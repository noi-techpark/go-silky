# Test: POST request with form-urlencoded body
# Demonstrates: form encoding (username=admin&password=secret123 format)

# Initialize root context with results array
rootContext:
  results: []

steps:
  - type: request
    name: Login with Form Data
    request:
      url: https://api.example.com/login
      method: POST
      headers:
        # Content-Type for form-urlencoded format
        # Silky will encode body as: username=admin&password=secret123
        Content-Type: application/x-www-form-urlencoded
      # Body will be automatically URL-encoded based on Content-Type
      body:
        username: admin
        password: secret123
    # Append login response to results array
    mergeOn: .results += [$res]
